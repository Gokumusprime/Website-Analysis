import{V as C,C as b,p as S,a as w,B as L,b as x,L as T,c as R,d as m,P as $,e as k,I as V,f as D}from"./vendor.c82ee201.js";const E=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}};E();function _(a,e,t,o,s,r,l,u){var i=typeof a=="function"?a.options:a;e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),o&&(i.functional=!0),r&&(i._scopeId="data-v-"+r);var c;if(l?(c=function(n){n=n||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!n&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(n=__VUE_SSR_CONTEXT__),s&&s.call(this,n),n&&n._registeredComponents&&n._registeredComponents.add(l)},i._ssrRegister=c):s&&(c=u?function(){s.call(this,(i.functional?this.parent:this).$root.$options.shadowRoot)}:s),c)if(i.functional){i._injectStyles=c;var f=i.render;i.render=function(g,h){return c.call(h),f(g,h)}}else{var v=i.beforeCreate;i.beforeCreate=v?[].concat(v,c):[c]}return{exports:a,options:i}}const O={name:"Carousel",props:["newSearch"],data(){return{settings:{slidesToShow:3,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,variableWidth:!1,adaptiveHeight:!1,arrows:!0,dots:!1},imgSrcList:[],listEmpty:!0,errorReason:""}},methods:{async getImages(a){this.listEmpty=!0,this.imgSrcList=[];try{await fetch("https://corsproxy.io/?"+encodeURIComponent(a)).then(e=>e.text()).then(e=>{const o=new DOMParser().parseFromString(e,"text/html").querySelector("body");let s=new URL(a),r="https://"+s.hostname,l=o.querySelectorAll("img");for(var u=0;u<l.length;u++)this.imgSrcList.push(r+l[u].src.replace(window.location.href,"/"));this.imgSrcList.length>-1&&(this.listEmpty=!1)})}catch{this.listEmpty=!0,this.imgSrcList=[],this.errorReason="*This url has super secret squirrel CORS policies.  Please try another."}}},components:{VueSlickCarousel:C},watch:{newSearch:function(){this.listEmpty=!0,this.imgSrcList=[];let a=this.newSearch;this.getImages(a)}}};var P=function(){var e=this,t=e._self._c;return e.listEmpty?t("div",{staticStyle:{"margin-top":"-2em",transition:"all .8s ease-in-out"}},[t("span",{staticStyle:{color:"red"}},[e._v(e._s(e.errorReason))])]):t("div",{staticClass:"col-12",staticStyle:{transition:"all .3s ease-in-out"}},[t("div",{staticClass:"row"},[t("h4",{staticClass:"col-12 mb-3"},[e._v("List of all images on the page:")]),t("div",{staticClass:"col-12 mb-3 image-list list-group",staticStyle:{"max-height":"16rem","overflow-y":"scroll","overflow-x":"hidden",border:"1px solid gray"}},e._l(e.imgSrcList,function(o){return t("a",{staticClass:"list-group-item",staticStyle:{display:"block",color:"#ca4a05 !important",width:"104%"},attrs:{target:"_blank",href:o}},[e._v(e._s(o))])}),0),t("h4",{staticClass:"col-12 mb-3"},[e._v("Carousel of all images on the page:")]),t("VueSlickCarousel",e._b({staticClass:"col-12 px-5 mb-3 image-carousel"},"VueSlickCarousel",e.settings,!1),e._l(e.imgSrcList,function(o){return t("img",{staticClass:"img-fluid",attrs:{src:o}})}),0)],1)])},I=[],A=_(O,P,I,!1,null,null,null,null),B=A.exports;b.register(S,w,L,x,T);const U={name:"BarChart",components:{Bar:R},props:["newSearch"],data(){return{data:{labels:[],datasets:[{data:[]}]},options:{plugins:{responsive:!0,title:{display:!0,text:""}}},loaded:!1}},methods:{async getWords(a){try{this.loaded=!1,this.data.labels=[],this.data.datasets=[],await fetch("https://corsproxy.io/?"+encodeURIComponent(a)).then(e=>e.text()).then(e=>{const t=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,o=/<noscript\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/noscript>/gi;let r=new DOMParser().parseFromString(e,"text/html").querySelector("body"),l=r.innerHTML.replace(t,"").replace(o,"").replace("  "," ").replace("&nbsp;","");r.innerHTML=l;let u=r.textContent,i={};u.toLowerCase().split(" ").map(d=>d.replace(/\W/g,"")).forEach(d=>i[d]=(i[d]||0)+1);let c=Object.entries(i).sort((d,p)=>p[1]-d[1]),f=c.slice(0,8).map(([d,p])=>`${d} ${p}
`).join(",");this.dataEmpty=!1;let n=f.replace(/[\n]+/g,"").split(","),g=n[0].replace(" ","");n.shift();for(var h=0;h<n.length;h++){let d=n[h].split(" "),p=d[0],y=d[1];this.data.labels.push(p.toString()),this.data.datasets.push(parseInt(y))}this.data.datasets=[{data:this.data.datasets}],this.options.plugins.title.text="Below is the top 7 words that appear on this page while the total count of relevant words on the page is "+parseInt(c.length),this.submitData()})}catch{this.loaded=!1,this.data.labels=[],this.data.datasets=[]}},submitData(){this.loaded=!0}},watch:{newSearch:function(){let a=this.newSearch;this.getWords(a)}}};var W=function(){var e=this,t=e._self._c;return e.loaded?t("div",{staticClass:"col-12"},[t("h4",{staticClass:"mb-3"},[e._v("Graph Analysis of words on the page:")]),t("Bar",{attrs:{id:"my-chart-id",options:e.options,data:e.data}})],1):e._e()},q=[],F=_(U,W,q,!1,null,null,null,null),H=F.exports;const M={name:"Dashboard",components:{VueSlickCarousel:B,BarChart:H},props:["searchTextHolder"],data(){return{searchText:this.searchTextHolder,searchData:""}},methods:{updateSearch(){document.querySelectorAll("carousel-player").innerHTML="",document.querySelectorAll("chart").innerHTML="",this.renderComponent=!0,this.SearchData="",this.searchData=this.searchText}}};var N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row p-3",staticStyle:{"box-shadow":"inset 0 -3em 3em #ebe5e5, 0 0 0 2px #ebe5e5, 0.3em 0.3em 1em #ebe5e5","min-height":"40vw"}},[t("div",{staticClass:"col-12"},[e._m(0),t("div",{staticClass:"row mb-3"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"row pb-sm-1"},[t("label",{staticClass:"col-xs-12 mb-1"},[e._v("Please type in any URL to analyze the images used and word count. (Some images may contain broken links)")]),t("div",{staticClass:"col-12 col-sm-9 mt-2 mb-2 mb-sm-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],staticClass:"form-control",attrs:{type:"text",value:"",placeholder:"Example: https://www.neb.com/en-us/"},domProps:{value:e.searchText},on:{input:function(o){o.target.composing||(e.searchText=o.target.value)}}})]),t("div",{staticClass:"col-12 col-sm-3 mt-2 mb-2 mb-sm-3"},[t("button",{staticClass:"btn btn-primary",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(o){return e.updateSearch()}}},[e._v("Analyze Website")])])])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("VueSlickCarousel",{attrs:{newSearch:e.searchData}}),t("BarChart",{attrs:{newSearch:e.searchData}})],1)])])])])},z=[function(){var a=this,e=a._self._c;return e("div",{staticClass:"row mb-3"},[e("div",{staticClass:"col-12"},[e("h1",[a._v("The Website Image/Word Analysis Dashboard")])])])}],X=_(M,N,z,!1,null,null,null,null),j=X.exports;m.use($);m.use(k);m.use(V);new m({el:"#dashboard",pinia:D(),render:a=>a(j)});
